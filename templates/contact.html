{% extends 'base.html' %}
{% load static %}

{% block title %}যোগাযোগ ও মতামত - Nazmul Mostafa Amin{% endblock %}

{% block extra_css %}
<style>
    .contact-card {
        transition: transform 0.3s;
    }

    .contact-card:hover {
        transform: translateY(-5px);
    }

    .quick-support-card {
        transition: transform 0.3s;
    }

    .quick-support-card:hover {
        transform: scale(1.02);
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="bg-light py-5">
    <div class="container text-center">
        <div class="mb-4">
            <span class="badge bg-light text-secondary px-3 py-2 rounded-pill border border-secondary">
                <i class="far fa-star me-2"></i>যোগাযোগ ও মতামত
            </span>
        </div>
        <h1 class="display-4 mb-4">যোগাযোগ করুন</h1>
        <p class="lead mx-auto" style="max-width: 700px;">প্রশ্ন আছে? স্বেচ্ছাসেবক হতে চান? অথবা কোনো সহায়তা
            প্রয়োজন?<br>আপনার বার্তার অপেক্ষায় আছি
            — আমাদের টিম সর্বদা প্রস্তুত আপনাকে সাহায্য করতে।</p>
    </div>
</section>

<!-- Contact Info Cards -->
<section class="py-5">
    <div class="container">
        <div class="row g-4">

            <!-- Address Card -->
            <div class="col-md-6 col-lg-3">
                <div class="card contact-card border-0 shadow-sm text-center p-4 h-100"
                    style="background-color: #f8f9fa;">
                    <i class="fas fa-map-marker-alt fa-2x text-secondary mb-3"></i>
                    <h5 class="fw-bold">অফিসের ঠিকানা</h5>
                    <p class="small text-muted mb-0">
                        লোহাগাড়া টাওয়ার, ২য় তলা,<br>
                        ১৬৬৬ পাঠানপাড়া, দরবেশহাট,<br>
                        চট্টগ্রাম
                    </p>
                </div>
            </div>

            <!-- Phone Card -->
            <div class="col-md-6 col-lg-3">
                <div class="card contact-card border-0 shadow-sm text-center p-4 h-100"
                    style="background-color: #f8f9fa;">
                    <i class="fas fa-phone-alt fa-2x text-secondary mb-3"></i>
                    <h5 class="fw-bold">ফোন নম্বর</h5>
                    <p class="small text-muted mb-1">০১৭১৮-৪৮৮৬২৫</p>
                    <p class="small text-muted mb-0">০১৮৩৫-২৫৫৯১১</p>
                </div>
            </div>

            <!-- Email Card -->
            <div class="col-md-6 col-lg-3">
                <div class="card contact-card border-0 shadow-sm text-center p-4 h-100"
                    style="background-color: #f8f9fa;">
                    <i class="far fa-envelope fa-2x text-secondary mb-3"></i>
                    <h5 class="fw-bold">ইমেইল</h5>
                    <p class="small text-muted mb-1">press@nazmulmostafaamin.com</p>
                    <p class="small text-muted mb-0">আমরা দ্রুত উত্তর দেওয়ার চেষ্টা করি</p>
                </div>
            </div>

            <!-- Office Hours Card -->
            <div class="col-md-6 col-lg-3">
                <div class="card contact-card border-0 shadow-sm text-center p-4 h-100"
                    style="background-color: #f8f9fa;">
                    <i class="far fa-clock fa-2x text-secondary mb-3"></i>
                    <h5 class="fw-bold">অফিস সময়</h5>
                    <p class="small text-muted mb-0">
                        শনি – বৃহস্পতিবার<br>
                        সকাল ৯টা – সন্ধ্যা ৬টা
                    </p>
                </div>
            </div>

        </div>
    </div>

</section>

<!-- Contact Form Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <div class="mb-4">
                    <span class="badge bg-light text-secondary px-3 py-2 rounded-pill border border-secondary">
                        <i class="fab fa-telegram-plane me-2"></i>বার্তা পাঠান
                    </span>
                </div>
                <h2 class="display-4 mb-3">যে কোনো সময়ে বার্তা পাঠান</h2>
                <p class="text-muted mb-4">ফর্মটি পূরণ করুন, আমরা যত দ্রুত সম্ভব আপনার সঙ্গে যোগাযোগ করব।</p>

                <!-- Success/Error Messages -->
                {% if messages %}
                {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                {% endfor %}
                {% endif %}

                <div class="card border-0 shadow-sm p-4" style="background-color: #fff;">
                    <form method="post">
                        {% csrf_token %}

                        <div class="mb-3">
                            {{ form.name.label_tag }}
                            {{ form.name }}
                            {% if form.name.errors %}
                            <div class="text-danger small">{{ form.name.errors }}</div>
                            {% endif %}
                        </div>

                        <div class="mb-3">
                            {{ form.email.label_tag }}
                            {{ form.email }}
                            {% if form.email.errors %}
                            <div class="text-danger small">{{ form.email.errors }}</div>
                            {% endif %}
                        </div>

                        <div class="mb-3">
                            {{ form.phone.label_tag }}
                            {{ form.phone }}
                            {% if form.phone.errors %}
                            <div class="text-danger small">{{ form.phone.errors }}</div>
                            {% endif %}
                        </div>

                        <div class="mb-3">
                            {{ form.upazila.label_tag }}
                            {{ form.upazila }}
                            {% if form.upazila.errors %}
                            <div class="text-danger small">{{ form.upazila.errors }}</div>
                            {% endif %}
                        </div>

                        <div class="mb-3">
                            {{ form.union.label_tag }}
                            {{ form.union }}
                            {% if form.union.errors %}
                            <div class="text-danger small">{{ form.union.errors }}</div>
                            {% endif %}
                        </div>

                        <div class="mb-3">
                            {{ form.department.label_tag }}
                            {{ form.department }}
                            {% if form.department.errors %}
                            <div class="text-danger small">{{ form.department.errors }}</div>
                            {% endif %}
                        </div>

                        <div class="mb-3">
                            {{ form.message.label_tag }}
                            {{ form.message }}
                            {% if form.message.errors %}
                            <div class="text-danger small">{{ form.message.errors }}</div>
                            {% endif %}
                        </div>

                        <div class="mb-3">
                            {{ form.captcha.label_tag }}
                            {{ form.captcha }}
                            {% if form.captcha.errors %}
                            <div class="text-danger small">{{ form.captcha.errors }}</div>
                            {% endif %}
                            <small class="text-muted">{{ form.captcha.help_text }}</small>
                        </div>

                        <button type="submit" class="btn btn-secondary w-100">
                            <i class="fab fa-telegram-plane me-2"></i> বার্তা পাঠান
                        </button>
                    </form>
                </div>
            </div>

            <!-- Quick Support Section -->
            <div class="col-lg-6">
                <div class="mb-4">
                    <span class="badge bg-light text-secondary px-3 py-2 rounded-pill border border-secondary">
                        <i class="fab fa-telegram-plane me-2"></i>দ্রুত যোগাযোগ
                    </span>
                </div>
                <h2 class="display-4 mb-3">দ্রুত সহায়তা</h2>
                <p class="text-muted mb-4">যেকোনো নির্দিষ্ট বিষয়ে দ্রুত সহায়তা পেতে সরাসরি যোগাযোগ করুন.</p>

                <div class="row g-3">

                    <!-- General Inquiry -->
                    <div class="col-12">
                        <div class="card quick-support-card border-0 shadow-sm p-3">
                            <div class="d-flex align-items-center">
                                <i class="fas fa-phone-alt fa-2x text-secondary me-3"></i>
                                <div>
                                    <h6 class="fw-bold mb-1">সাধারণ জিজ্ঞাসা</h6>
                                    <p class="mb-0 text-muted">০১৭১৮-৪৮৮৬২৫</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Media & Press -->
                    <div class="col-12">
                        <div class="card quick-support-card border-0 shadow-sm p-3">
                            <div class="d-flex align-items-center">
                                <i class="fas fa-phone-alt fa-2x text-secondary me-3"></i>
                                <div>
                                    <h6 class="fw-bold mb-1">মিডিয়া ও প্রেস</h6>
                                    <p class="mb-0 text-muted">০১৮৩৫-২৫৫৯১১</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Volunteer Coordination -->
                    <div class="col-12">
                        <div class="card quick-support-card border-0 shadow-sm p-3">
                            <div class="d-flex align-items-center">
                                <i class="fas fa-phone-alt fa-2x text-secondary me-3"></i>
                                <div>
                                    <h6 class="fw-bold mb-1">স্বেচ্ছাসেবক সমন্বয়</h6>
                                    <p class="mb-0 text-muted">০১৭১৮-৪৮৮৬২৫</p>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>
        </div>
    </div>
</section>

<!-- Campaign Office Section -->
<section class="py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <div class="mb-4">
                    <span class="badge bg-light text-secondary px-3 py-2 rounded-pill border border-secondary">
                        <i class="fas fa-map-marker-alt me-2"></i>আমাদের ঠিকানা
                    </span>
                </div>
                <h2 class="display-4 mb-3">আমাদের ক্যাম্পেইন অফিস</h2>
                <p class="text-muted">আমাদের ক্যাম্পেইন টিমের সঙ্গে সাক্ষাৎ করতে, ক্যাম্পেইন সামগ্রী সংগ্রহ
                    করতে<br>অথবা সরাসরি স্বেচ্ছাসেবক হিসেবে যুক্ত হতে আমাদের অফিসে আসুন।</p>
            </div>
            <div class="col-lg-6">
                <div class="card border-0 shadow-sm p-4 text-center" style="background-color: #f8f9fa;">
                    <i class="fas fa-map-marker-alt fa-3x text-secondary mb-3"></i>
                    <h4 class="fw-bold">লোহাগাড়া টাওয়ার</h4>
                    <p class="text-muted mb-3">
                        ২য় তলা, ১৬৬৬ পাঠানপাড়া,<br>
                        দরবেশহাট, চট্টগ্রাম
                    </p>
                    <a href="#" class="btn btn-outline-secondary btn-sm">
                        অফিস ঠিকানা মানচিত্রে দেখুন
                    </a>
                </div>
            </div>

        </div>
    </div>
</section>

<script>
// Upazila-Union dependency mapping
const upazilaUnionMap = {
    'lohagara': [
        {value: 'lohagara_union', text: 'লোহাগাড়া ইউনিয়ন'},
        {value: 'padua', text: 'পদুয়া'},
        {value: 'barahatia', text: 'বড়হাতিয়া'},
        {value: 'amirabad', text: 'আমিরাবাদ'},
        {value: 'adhunagar', text: 'আধুনগর'},
        {value: 'chunati', text: 'চুনতি'},
        {value: 'charamba', text: 'চরাম্বা'},
        {value: 'putibila', text: 'পুটিবিলা'},
        {value: 'kalauzan', text: 'কালাউজান'}
    ],
    'satkania': [
        {value: 'satkania_pourashava', text: 'সাতকানিয়া পৌরসভা'},
        {value: 'satkania_union', text: 'সাতকানিয়া ইউনিয়ন'},
        {value: 'dhemsha', text: 'ঢেমশা'},
        {value: 'bazalia', text: 'বাজালিয়া'},
        {value: 'kanchana', text: 'কাঞ্চনা'},
        {value: 'keochia', text: 'কেঁওচিয়া'},
        {value: 'madarsha', text: 'মাদার্শা'},
        {value: 'purba_guchchagram', text: 'পূর্ব গুচ্ছগ্রাম'}
    ]
};

document.addEventListener('DOMContentLoaded', function() {
    const upazilaSelect = document.getElementById('id_upazila');
    const unionSelect = document.getElementById('id_union');
    
    if (!upazilaSelect || !unionSelect) return;
    
    function updateUnionOptions() {
        const selectedUpazila = upazilaSelect.value;
        const currentUnion = unionSelect.value;
        
        // Clear existing options
        unionSelect.innerHTML = '<option value="">---------</option>';
        
        if (selectedUpazila && upazilaUnionMap[selectedUpazila]) {
            const unions = upazilaUnionMap[selectedUpazila];
            
            unions.forEach(function(union) {
                const option = document.createElement('option');
                option.value = union.value;
                option.textContent = union.text;
                
                // Preserve selection if valid
                if (union.value === currentUnion) {
                    option.selected = true;
                }
                
                unionSelect.appendChild(option);
            });
            
            unionSelect.disabled = false;
        } else {
            unionSelect.disabled = true;
        }
    }
    
    // Initialize on page load
    updateUnionOptions();
    
    // Update when upazila changes
    upazilaSelect.addEventListener('change', function() {
        updateUnionOptions();
    });
});
</script>
{% endblock %}